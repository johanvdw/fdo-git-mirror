<html>
<head>
<title>
CppUnit - The Unit Testing Library
</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>

<body bgcolor="#ffffff"> 
<table width="100%">
  <tr>
    <td width="40%" align="left" valign="center">
      <a href="http://sourceforge.net/projects/cppunit">
      CppUnit project page
      </a>
    </td>
    <td>
      <a href="FAQ">FAQ</a>
    </td>
    <td width="40%" align="right" valign="center">
      <a href="http://cppunit.sourceforge.net">CppUnit home page</a>
    </td>
  </tr>
</table>

<hr>
<!-- Generated by Doxygen 1.2.14 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>HelperMacros.h File Reference</h1>Macros intended to ease the definition of test suites. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="_portability_8h-source.html">cppunit/Portability.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="_auto_register_suite_8h-source.html">cppunit/extensions/AutoRegisterSuite.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="_test_suite_builder_8h-source.html">cppunit/extensions/TestSuiteBuilder.h</a>&gt;</code><br>
<code>#include &lt;string&gt;</code><br>

<p>
<a href="_helper_macros_8h-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Namespaces</h2></td></tr>
<tr><td nowrap align=right valign=top>namespace &nbsp;</td><td valign=bottom><a class="el" href="namespace_cpp_unit.html">CppUnit</a></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="_helper_macros_8h.html#a0">__CPPUNIT_SUITE_CTOR_ARGS</a>(ATestFixtureType)&nbsp;&nbsp;&nbsp;(std::string(#ATestFixtureType))</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="group___writing_test_fixture.html#a0">CPPUNIT_TEST_SUITE</a>(ATestFixtureType)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Begin test suite.</em> <a href="group___writing_test_fixture.html#a0">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="group___writing_test_fixture.html#a1">CPPUNIT_TEST_SUB_SUITE</a>(ATestFixtureType, ASuperClass)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Begin test suite (includes parent suite).</em> <a href="group___writing_test_fixture.html#a1">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="group___writing_test_fixture.html#a2">CPPUNIT_TEST</a>(testMethod)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Add a method to the suite.</em> <a href="group___writing_test_fixture.html#a2">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="group___writing_test_fixture.html#a3">CPPUNIT_TEST_EXCEPTION</a>(testMethod, ExceptionType)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Add a test which fail if the specified exception is not caught.</em> <a href="group___writing_test_fixture.html#a3">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="group___writing_test_fixture.html#a4">CPPUNIT_TEST_FAIL</a>(testMethod)&nbsp;&nbsp;&nbsp;CPPUNIT_TEST_EXCEPTION( testMethod, <a class="el" href="class_cpp_unit_1_1_exception.html">CppUnit::Exception</a> )</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Adds a test case which is excepted to fail.</em> <a href="group___writing_test_fixture.html#a4">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="group___writing_test_fixture.html#a5">CPPUNIT_TEST_SUITE_END</a>()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>End declaration of the test suite.</em> <a href="group___writing_test_fixture.html#a5">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="_helper_macros_8h.html#a7">__CPPUNIT_CONCATENATE_DIRECT</a>(s1, s2)&nbsp;&nbsp;&nbsp;s1##s2</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="_helper_macros_8h.html#a8">__CPPUNIT_CONCATENATE</a>(s1, s2)&nbsp;&nbsp;&nbsp;__CPPUNIT_CONCATENATE_DIRECT( s1, s2 )</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="_helper_macros_8h.html#a9">__CPPUNIT_MAKE_UNIQUE_NAME</a>(str)&nbsp;&nbsp;&nbsp;__CPPUNIT_CONCATENATE( str, __LINE__ )</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Decorates the specified string with the line number to obtain a unique name;.</em> <a href="#a9">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="group___creating_test_suite.html#a0">CPPUNIT_TEST_SUITE_REGISTRATION</a>(ATestFixtureType)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Adds the specified fixture suite to the unnamed registry.</em> <a href="group___creating_test_suite.html#a0">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="group___creating_test_suite.html#a1">CPPUNIT_TEST_SUITE_NAMED_REGISTRATION</a>(ATestFixtureType, suiteName)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Adds the specified fixture suite to the specified registry suite.</em> <a href="group___creating_test_suite.html#a1">More...</a><em></em></font><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Macros intended to ease the definition of test suites.
<p>
 The macros <a class="el" href="group___writing_test_fixture.html#a0">CPPUNIT_TEST_SUITE</a>(), <a class="el" href="group___writing_test_fixture.html#a2">CPPUNIT_TEST</a>(), and <a class="el" href="group___writing_test_fixture.html#a5">CPPUNIT_TEST_SUITE_END</a>() are designed to facilitate easy creation of a test suite. For example,
<p>
<div class="fragment"><pre><font class="preprocessor"> #include &lt;<a class="code" href="_helper_macros_8h.html">cppunit/extensions/HelperMacros.h</a>&gt;</font>
 <font class="keyword">class </font>MyTest : <font class="keyword">public</font> CppUnit::TestFixture {
   <a class="code" href="_helper_macros_8h.html#a0">CPPUNIT_TEST_SUITE</a>( MyTest );
   <a class="code" href="_helper_macros_8h.html#a2">CPPUNIT_TEST</a>( testEquality );
   <a class="code" href="_helper_macros_8h.html#a2">CPPUNIT_TEST</a>( testSetName );
   <a class="code" href="_helper_macros_8h.html#a5">CPPUNIT_TEST_SUITE_END</a>();
 <font class="keyword">public</font>:
   <font class="keywordtype">void</font> testEquality();
   <font class="keywordtype">void</font> testSetName();
 };
</pre></div>
<p>
The effect of these macros is to define two methods in the class MyTest. The first method is an auxiliary function named registerTests that you will not need to call directly. The second function <div class="fragment"><pre><font class="keyword">static</font> <a class="code" href="class_cpp_unit_1_1_test_suite.html">CppUnit::TestSuite</a> *suite()
</pre></div> returns a pointer to the suite of tests defined by the <a class="el" href="group___writing_test_fixture.html#a2">CPPUNIT_TEST</a>() macros.
<p>
Rather than invoking suite() directly, the macro <a class="el" href="group___creating_test_suite.html#a0">CPPUNIT_TEST_SUITE_REGISTRATION</a>() is used to create a static variable that automatically registers its test suite in a global registry. The registry yields a Test instance containing all the registered suites. <div class="fragment"><pre> <a class="code" href="_helper_macros_8h.html#a0">CPPUNIT_TEST_SUITE_REGISTRATION</a>( MyTest );
 <a class="code" href="class_cpp_unit_1_1_test.html">CppUnit::Test</a>* tp =
   <a class="code" href="class_cpp_unit_1_1_test_factory_registry.html#d0">CppUnit::TestFactoryRegistry::getRegistry</a>().makeTest();
</pre></div>
<p>
The test suite macros can even be used with templated test classes. For example:
<p>
<div class="fragment"><pre> <font class="keyword">template</font>&lt;<font class="keyword">typename</font> CharType&gt;
 <font class="keyword">class </font>StringTest : <font class="keyword">public</font> CppUnit::TestFixture {
   <a class="code" href="_helper_macros_8h.html#a0">CPPUNIT_TEST_SUITE</a>( StringTest );
   <a class="code" href="_helper_macros_8h.html#a2">CPPUNIT_TEST</a>( testAppend );
   <a class="code" href="_helper_macros_8h.html#a5">CPPUNIT_TEST_SUITE_END</a>();
 <font class="keyword">public</font>:  
   ...
 };
</pre></div>
<p>
You need to add in an implementation file:
<p>
<div class="fragment"><pre> <a class="code" href="_helper_macros_8h.html#a0">CPPUNIT_TEST_SUITE_REGISTRATION</a>( StringTest&lt;char&gt; );
 <a class="code" href="_helper_macros_8h.html#a0">CPPUNIT_TEST_SUITE_REGISTRATION</a>( StringTest&lt;wchar_t&gt; );
</pre></div>
<p>
<hr><h2>Define Documentation</h2>
<a name="a8" doxytag="HelperMacros.h::__CPPUNIT_CONCATENATE"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define __CPPUNIT_CONCATENATE</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">s1,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>s2&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;__CPPUNIT_CONCATENATE_DIRECT( s1, s2 )
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a7" doxytag="HelperMacros.h::__CPPUNIT_CONCATENATE_DIRECT"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define __CPPUNIT_CONCATENATE_DIRECT</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">s1,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>s2&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;s1##s2
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a9" doxytag="HelperMacros.h::__CPPUNIT_MAKE_UNIQUE_NAME"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define __CPPUNIT_MAKE_UNIQUE_NAME</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">str&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;__CPPUNIT_CONCATENATE( str, __LINE__ )
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Decorates the specified string with the line number to obtain a unique name;.
<p>
<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>str</em>&nbsp;</td><td>
String to decorate. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a0" doxytag="HelperMacros.h::__CPPUNIT_SUITE_CTOR_ARGS"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define __CPPUNIT_SUITE_CTOR_ARGS</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">ATestFixtureType&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(std::string(#ATestFixtureType))
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr>
<table width="100%">
  <tr>
    <td width="10%" align="left" valign="center">
      <a href="http://sourceforge.net"> 
      <img
      src="http://sourceforge.net/sflogo.php?group_id=11795"
      width="88" height="31" border="0" alt="SourceForge Logo"></a>
    </td>
    <td width="20%" align="left" valign="center">
      hosts this site.
    </td>
    <td>
    </td>
    <td align="right" valign="center">
      Send comments to:<br>
      <a href="mailto:cppunit-devel@lists.sourceforge.net">CppUnit Developers</a>
    </td>
  </tr>
</table>

</body> 
</html>

include_directories(
	${CMAKE_CURRENT_SOURCE_DIR}
	${CMAKE_CURRENT_BINARY_DIR}
	)

add_subdirectory( Fdo )
add_subdirectory( Gdbi )
add_subdirectory( LongTransactionManager )
add_subdirectory( LockManager )
add_subdirectory( MySQL )
add_subdirectory( Rdbi )
add_subdirectory( SchemaMgr )
add_subdirectory( Util )
add_subdirectory( Geometry )
add_subdirectory( ODBCDriver )
add_subdirectory( ODBC )
add_subdirectory( UnitTest )

set( FdoMySQL_LIB_SRCS
   dummy.cpp
)

file( WRITE dummy.cpp "//autogenerated file by cmake\n" )
add_library( FdoMySQL SHARED ${FdoMySQL_LIB_SRCS} )

target_link_libraries( FdoMySQL
	xalan-c
	xalanMsg
	xerces-c
	mysqlclient
	z
	FdoRdbmsMySQL
	FdoRdbms
	rdbi
	mysqldr
	Gdbi
	LTManager
	LockManager
	util
	geometry_fgf
	SmLpGrd
	SmGrd
	RdbmsSchemaMgr_OV
	SmPhCfgGrd
	SmPhGrd
	SmPhRdGrd
	FDO
	ExpressionEngine
	ProvidersCommon
	SchemaMgr
	SmLogicalPhysical
	SmPhysical
	SmPhCfg
	SmPhMt
	SmPhRb
	SmPhRd
	SmOverrides
 )

set_target_properties( FdoMySQL PROPERTIES VERSION 1.0.0 SOVERSION 1 )
install( TARGETS FdoMySQL DESTINATION ${LIB_INSTALL_DIR} )

set( FdoODBC_LIB_SRCS
   dummy.cpp
)

file( WRITE dummy.cpp "//autogenerated file by cmake\n" )
add_library( FdoODBC SHARED ${FdoODBC_LIB_SRCS} )

target_link_libraries( FdoODBC
	xalan-c
	xalanMsg
	xerces-c
	odbc
	odbcinst
	FdoRdbmsODBC
	FdoRdbms
	rdbi
	FdoODBCDriver
	Gdbi
	LTManager
	LockManager
	util
	geometry_fgf
	SmLpGrd
	SmGrd
	SchemaMgr_OV
	SmPhCfgGrd
	SmPhGrd
	SmPhRdGrd
	FDO
	ExpressionEngine
	ProvidersCommon
	SchemaMgr
	SmLogicalPhysical
	SmPhysical
	SmPhCfg
	SmPhMt
	SmPhRb
	SmPhRd
	SmOverrides
 )

set_target_properties( FdoODBC PROPERTIES VERSION 1.0.0 SOVERSION 1 )
install( TARGETS FdoODBC DESTINATION ${LIB_INSTALL_DIR} )

set( SchemaMgr_OV_LIB_SRCS
   dummy.cpp
)

file( WRITE dummy.cpp "//autogenerated file by cmake\n" )
add_library( SchemaMgr_OV SHARED ${SchemaMgr_OV_LIB_SRCS} )

target_link_libraries( SchemaMgr_OV
	SchemaMgr_OV
	FDO
	SmOverrides
 )

set_target_properties( SchemaMgr_OV PROPERTIES VERSION 1.0.0 SOVERSION 1 )
install( TARGETS SchemaMgr_OV DESTINATION ${LIB_INSTALL_DIR} )


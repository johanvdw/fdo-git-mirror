<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"	"http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
		<title>FDO API Reference</title>
		<link href="../../custom.css" rel="stylesheet" type="text/css">
		<link href="../../tabs.css" rel="stylesheet" type="text/css">
	</head>
	<body bgcolor="#FFFFFF">
		<table width="100%"  border="0">
			<tr>
				<td><b>FDO API Reference<b></td>
				<td align="right"><b>Feature Data Objects<b></td>
			</tr>
			
		</table>
<!-- End of: header.html -->
<!-- Generated by Doxygen 1.4.6-NO -->
<div class="tabs">
  <ul>
    <li><a href="../../main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="../../classes.html"><span>Classes</span></a></li>
    <li id="current"><a href="../../files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="../../files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="../../globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<h1>ICommitLongTransaction.h</h1><a href="../../db/d3e/_i_commit_long_transaction_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef _ICOMMITLONGTRANSACTION_H_</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define _ICOMMITLONGTRANSACTION_H_</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span><span class="comment">//</span>
<a name="l00004"></a>00004 
<a name="l00005"></a>00005 <span class="comment">//</span>
<a name="l00006"></a>00006 <span class="comment">// Copyright (C) 2004-2006  Autodesk, Inc.</span>
<a name="l00007"></a>00007 <span class="comment">// </span>
<a name="l00008"></a>00008 <span class="comment">// This library is free software; you can redistribute it and/or</span>
<a name="l00009"></a>00009 <span class="comment">// modify it under the terms of version 2.1 of the GNU Lesser</span>
<a name="l00010"></a>00010 <span class="comment">// General Public License as published by the Free Software Foundation.</span>
<a name="l00011"></a>00011 <span class="comment">// </span>
<a name="l00012"></a>00012 <span class="comment">// This library is distributed in the hope that it will be useful,</span>
<a name="l00013"></a>00013 <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00014"></a>00014 <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<a name="l00015"></a>00015 <span class="comment">// Lesser General Public License for more details.</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// You should have received a copy of the GNU Lesser General Public</span>
<a name="l00018"></a>00018 <span class="comment">// License along with this library; if not, write to the Free Software</span>
<a name="l00019"></a>00019 <span class="comment">// Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA</span>
<a name="l00020"></a>00020 <span class="comment">//</span>
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 <span class="preprocessor">#ifdef _WIN32</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span><span class="preprocessor">#pragma once</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="../../d7/daa/_std_8h.html">Std.h</a>&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="../../de/d25/_i_connection_8h.html">Fdo/Connections/IConnection.h</a>&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;<a class="code" href="../../d6/d78/_i_long_transaction_conflict_directive_enumerator_8h.html">Fdo/Commands/LongTransaction/ILongTransactionConflictDirectiveEnumerator.h</a>&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;<a class="code" href="../../d4/df6/_i_feature_command_8h.html">Fdo/Commands/IFeatureCommand.h</a>&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;<a class="code" href="../../d6/df7/_i_lock_conflict_reader_8h.html">Fdo/Commands/Locking/ILockConflictReader.h</a>&gt;</span>
<a name="l00031"></a>00031 <span class="comment"></span>
<a name="l00032"></a>00032 <span class="comment">/// \brief</span>
<a name="l00033"></a>00033 <span class="comment">/// The FdoICommitLongTransaction interface defines the CommitLongTransaction</span>
<a name="l00034"></a>00034 <span class="comment">/// command, which allows a user to execute commit operations on a long</span>
<a name="l00035"></a>00035 <span class="comment">/// transaction. Two different commit operations are distinguished: full and partial.</span>
<a name="l00036"></a>00036 <span class="comment">///</span>
<a name="l00037"></a>00037 <span class="comment">/// &lt;b&gt;Full.&lt;/b&gt; A full commit operation is executed on all data within a long transaction. The data is committed to the parent long transaction and the long transaction itself is removed.</span>
<a name="l00038"></a>00038 <span class="comment">///</span>
<a name="l00039"></a>00039 <span class="comment">/// &lt;b&gt;Partial.&lt;/b&gt; A partial commit operation is executed on a subset of the data within a long transaction (this could be all data). The data is committed to the parent long transaction. However, the long transaction, itself, is not removed. The subset of the data to be committed is defined by a class name and a set of filter criteria.</span>
<a name="l00040"></a>00040 <span class="comment">///</span>
<a name="l00041"></a>00041 <span class="comment">/// To perform a commit operation the user requires the access and commit</span>
<a name="l00042"></a>00042 <span class="comment">/// privileges for the long transaction to be committed (in case of a</span>
<a name="l00043"></a>00043 <span class="comment">/// full commit the user also requires the remove privilege for the long</span>
<a name="l00044"></a>00044 <span class="comment">/// transaction) and the access privilege for the parent long transaction.</span>
<a name="l00045"></a>00045 <span class="comment">/// In addition, a full commit can be performed on a leaf long transaction</span>
<a name="l00046"></a>00046 <span class="comment">/// only. A long transaction is a leaf long transaction if it does not</span>
<a name="l00047"></a>00047 <span class="comment">/// have descendent versions.</span>
<a name="l00048"></a><a class="code" href="../../d8/d6c/class_fdo_i_commit_long_transaction.html">00048</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="../../d8/d6c/class_fdo_i_commit_long_transaction.html">FdoICommitLongTransaction</a> : <span class="keyword">public</span> <a class="code" href="../../d6/d2e/class_fdo_i_feature_command.html">FdoIFeatureCommand</a>
<a name="l00049"></a>00049 {
<a name="l00050"></a><a class="code" href="../../d8/d6c/class_fdo_i_commit_long_transaction_f6a953c8fb492fa4f3409d458a5934a0.html#f6a953c8fb492fa4f3409d458a5934a0">00050</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="../../de/d0b/class_fdo_i_connection.html">FdoIConnection</a>;
<a name="l00051"></a>00051 
<a name="l00052"></a>00052 <span class="keyword">public</span>:<span class="comment"></span>
<a name="l00053"></a>00053 <span class="comment">    /// \brief</span>
<a name="l00054"></a>00054 <span class="comment">    /// Gets the name of the long transaction to commit as a string.</span>
<a name="l00055"></a>00055 <span class="comment">    /// </span>
<a name="l00056"></a>00056 <span class="comment">    /// \return</span>
<a name="l00057"></a>00057 <span class="comment">    /// Returns the name of the long transaction</span>
<a name="l00058"></a>00058 <span class="comment">    /// </span>
<a name="l00059"></a>00059 <span class="comment"></span>    <a class="code" href="../../d7/daa/_std_8h_159e6d8cdf66ea5e6786ccd47550101f.html#159e6d8cdf66ea5e6786ccd47550101f">FDO_API</a> <span class="keyword">virtual</span> <a class="code" href="../../d0/db6/_types_8h_d5a3d36c3e5fd69a638c2164a236e10f.html#d5a3d36c3e5fd69a638c2164a236e10f">FdoString</a>* <a class="code" href="../../d8/d6c/class_fdo_i_commit_long_transaction_79310df5ff4f5a43828184b742c63140.html#79310df5ff4f5a43828184b742c63140">GetName</a>() = 0;
<a name="l00060"></a>00060 <span class="comment"></span>
<a name="l00061"></a>00061 <span class="comment">    /// \brief</span>
<a name="l00062"></a>00062 <span class="comment">    /// Sets the name of the long transaction to commit as a string.</span>
<a name="l00063"></a>00063 <span class="comment">    /// </span>
<a name="l00064"></a>00064 <span class="comment">    /// \param value </span>
<a name="l00065"></a>00065 <span class="comment">    /// Input the name of the long transaction</span>
<a name="l00066"></a>00066 <span class="comment">    /// </span>
<a name="l00067"></a>00067 <span class="comment">    /// \return</span>
<a name="l00068"></a>00068 <span class="comment">    /// Returns nothing</span>
<a name="l00069"></a>00069 <span class="comment">    /// </span>
<a name="l00070"></a>00070 <span class="comment"></span>    <a class="code" href="../../d7/daa/_std_8h_159e6d8cdf66ea5e6786ccd47550101f.html#159e6d8cdf66ea5e6786ccd47550101f">FDO_API</a> <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d6c/class_fdo_i_commit_long_transaction_381e6a39d4227eb216277ffc30dc77be.html#381e6a39d4227eb216277ffc30dc77be">SetName</a>(<a class="code" href="../../d0/db6/_types_8h_d5a3d36c3e5fd69a638c2164a236e10f.html#d5a3d36c3e5fd69a638c2164a236e10f">FdoString</a>* value) = 0;
<a name="l00071"></a>00071 <span class="comment"></span>
<a name="l00072"></a>00072 <span class="comment">    /// \brief</span>
<a name="l00073"></a>00073 <span class="comment">    /// Gets a reference to the lock conflict reader.</span>
<a name="l00074"></a>00074 <span class="comment">    /// </span>
<a name="l00075"></a>00075 <span class="comment">    /// \return</span>
<a name="l00076"></a>00076 <span class="comment">    /// Returns a reference to the lock conflict reader</span>
<a name="l00077"></a>00077 <span class="comment">    /// </span>
<a name="l00078"></a>00078 <span class="comment"></span>    <a class="code" href="../../d7/daa/_std_8h_159e6d8cdf66ea5e6786ccd47550101f.html#159e6d8cdf66ea5e6786ccd47550101f">FDO_API</a> <span class="keyword">virtual</span> <a class="code" href="../../db/d3a/class_fdo_i_lock_conflict_reader.html">FdoILockConflictReader</a>* <a class="code" href="../../d8/d6c/class_fdo_i_commit_long_transaction_06867dc5a5a4dcd02e729087d5b33999.html#06867dc5a5a4dcd02e729087d5b33999">GetLockConflictReader</a>() = 0;
<a name="l00079"></a>00079 <span class="comment"></span>
<a name="l00080"></a>00080 <span class="comment">    /// Executes the commit long transaction command and returns an</span>
<a name="l00081"></a>00081 <span class="comment">    /// FdoILongTransactionConflictDirectiveEnumerator.</span>
<a name="l00082"></a>00082 <span class="comment">    /// If the returned enumerator's count is 0 then</span>
<a name="l00083"></a>00083 <span class="comment">    /// no conflicts were detected and the command was executed successfully.</span>
<a name="l00084"></a>00084 <span class="comment">    /// Otherwise conflicts were detected and the user must specify how to</span>
<a name="l00085"></a>00085 <span class="comment">    /// resolve them using the enumerator and call Execute again.</span>
<a name="l00086"></a>00086 <span class="comment"></span>    <a class="code" href="../../d7/daa/_std_8h_159e6d8cdf66ea5e6786ccd47550101f.html#159e6d8cdf66ea5e6786ccd47550101f">FDO_API</a> <span class="keyword">virtual</span> <a class="code" href="../../db/da5/class_fdo_i_long_transaction_conflict_directive_enumerator.html">FdoILongTransactionConflictDirectiveEnumerator</a>* <a class="code" href="../../d8/d6c/class_fdo_i_commit_long_transaction_df8cd39c1b76e25daae6021b05193348.html#df8cd39c1b76e25daae6021b05193348">Execute</a>() = 0;
<a name="l00087"></a>00087 };
<a name="l00088"></a>00088 <span class="preprocessor">#endif</span>
<a name="l00089"></a>00089 <span class="preprocessor"></span>
<a name="l00090"></a>00090 
</pre></div><!-- footer.html -->
		<hr>
		<table width="100%"  border="0">
			<tr>
				<td>Comments or suggestions? Send us <a href="mailto:isd.docs@autodesk.com&subject=FDO%20API%20documentation">feedback</a>.</td>
				<!-- The logo can go in another cell, when we get one -->			
			</tr>
		</table>
	</body>
</html>

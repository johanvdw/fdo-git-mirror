<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   
      <title>MySQL</title>
      <link rel="stylesheet" type="text/css" href="../style/cpm.css">
      <link rel="stylesheet" type="text/css" href="../style/isd.css">
      <link rel="stylesheet" type="text/css" href="../style/isd_html_standard.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/ac.strings.js"></script><script type="text/javascript" src="../scripts/acmap.js"></script><script type="text/javascript" src="../scripts/ac.acad_ak.js"></script><script language="javascript">
            function hideInfo() {
                info = document.getElementById('infoline');
                info.innerHTML = ' ';
                info.style.visibility = 'hidden';
            }
            function showInfo(title) {
                info = document.getElementById('infoline');
                info.innerHTML = title;
                info.style.visibility='visible';
            }
        </script><meta type="description" content="MySQL">
      <meta type="keywords" content="">
      <meta type="topic-type" content="concept">
   </head>
   <body onLoad="javascript:initFrame('WS73099cc142f4875520a47a10f192cc9dc-6eaa.htm','68'); javascript:initPage('MySQL','The Essential FDO'); javascript:highlightSearchResults(); top.setPageLoaded(1);" height="100%">
      <div class="head">
         <div class="head-block">
            <div class="nav-group">
               <!--browse buttons-->
               <div class="browse">
                  <nobr>
                     <div id="homeTitle" style="display:none">Home: The Essential FDO</div><a href="WS73099cc142f487551e5a0cb10850d4cd7c-5344.htm" target="content" class="headNavLink" onmouseover="showInfo(document.getElementById('homeTitle').innerHTML);" onmouseout="hideInfo();"><img src="../images/nav-home-xp.gif" border="0"></a><span class="home-button-separator">&nbsp;</span><div id="prevTitle" style="display:none">User Management</div><a href="WS73099cc142f4875520a47a10f192cc9dc-6eac.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('prevTitle').innerHTML);" onmouseout="hideInfo();"><img src="../images/nav-prev-xp.gif" border="0"></a><div id="parentTitle" style="display:none">User Management</div><a href="WS73099cc142f4875520a47a10f192cc9dc-6eac.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('parentTitle').innerHTML);" onmouseout="hideInfo();"><img src="../images/nav-up-xp.gif" border="0"></a><div id="nextTitle" style="display:none">Data Store Management API</div><a href="WS73099cc142f4875520a47a10f192cc9dc-6ea8.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('nextTitle').innerHTML);" onmouseout="hideInfo();"><img src="../images/nav-next-xp.gif" border="0"></a></nobr>
               </div>
               <!--end browse buttons-->
            </div>
            <div class="button-info"><span id="infoline">&nbsp;</span></div>
            <div class="ancestry"><a href="WS73099cc142f4875513fb5cd10c4aa30d6b-6ba8.htm">The Open Source Providers</a>&nbsp;&gt;&nbsp;<a href="WS73099cc142f4875520a47a10f192cc9dc-6eac.htm">User Management</a>&nbsp;&gt;&nbsp;
            </div>
            <div class="head-text"><span>MySQL</span></div>
         </div>
      </div>
      <div class="head-margin">&nbsp;</div>
      <div style="line-height: 0pt">&nbsp;</div>
      <div class="head-margin">&nbsp;</div><span style="display:none"><a name="WS73099cc142f4875520a47a10f192cc9dc-6eaa"></a></span>
      <!--Body--><p><span style="display:none"><a name="WS73099cc142f4875520a47a10f192cc9dc-6ea9"></a></span>The following table maps a set of user-related operations
         expressed as pseudo-API calls to the SQL commands that perform them.
      </p><span style="display:none"><a name="WS1a9193826455f5ff9110c71085341391d-342c"></a></span><table cellpadding="0" cellspacing="0" class="ruled-wide">
         <colgroup>
            <col style="width:1.677in">
            <col style="width:3.125in">
            <col style="width:0.449in">
            <tr class="RuledWideHeading">
               <th class="table-heading">Operation</th>
               <th class="table-heading">MySQL</th>
               <th class="table-heading">Notes</th>
            </tr>
            <tr class="RuledWideOddRow">
               <td class="table-body"><span class="code">AddUser(name, password)</span> 
               </td>
               <td class="table-body"><span class="code">create user </span><em class="mild">name </em><span class="code"> identified by </span>‘<em class="mild">password</em>’
               </td>
               <td class="table-body">1</td>
            </tr>
            <tr class="RuledWideEvenRow">
               <td class="table-body"><span class="code">AssignRoleOrPrivilege(user, roleOrPriv)</span> 
               </td>
               <td class="table-body"><span class="code">grant </span><em class="mild">roleOrPriv</em> <span class="code">on *.* to </span><em class="mild">user</em></td>
               <td class="table-body">2</td>
            </tr>
            <tr class="RuledWideOddRow">
               <td class="table-body"><span class="code">DropUser(name)</span> 
               </td>
               <td class="table-body"><span class="code">drop user </span><em class="mild">name</em><span class="code"></span> 
               </td>
               <td class="table-body">
                  &nbsp;
                  
               </td>
            </tr>
            <tr class="RuledWideEvenRow">
               <td class="table-body"><span class="code">GetDatastores()</span> 
               </td>
               <td class="table-body"><span class="code">show databases</span> 
               </td>
               <td class="table-body">3</td>
            </tr>
            <tr class="RuledWideOddRow">
               <td class="table-body"><span class="code">GetDbUsers()</span> 
               </td>
               <td class="table-body"><span class="code">select user as name from mysql.user</span> 
               </td>
               <td class="table-body">4</td>
            </tr>
            <tr class="RuledWideEvenRow">
               <td class="table-body"><span class="code">GetDbUsers(inDatastore)</span></td>
               <td class="table-body"><span class="code">select distinct grantee
                     as name from information_schema.schema_privilges where table_schema
                     = </span>‘<em class="mild">inDatastore</em>’
               </td>
               <td class="table-body">5</td>
            </tr>
            <tr class="RuledWideOddRow">
               <td class="table-body"><span class="code">GetRolesOrPrivileges()</span> 
               </td>
               <td class="table-body"><span class="code">select distinct privilege_type
                     from information_schema.user_privileges where grantee like “’root’%”
                     order by privilege_type</span></td>
               <td class="table-body">6</td>
            </tr>
            <tr class="RuledWideEvenRow">
               <td class="table-body"><span class="code">GrantAccessToDatastore(user, datastore)</span> 
               </td>
               <td class="table-body"><span class="code">grant all on </span><em class="mild">datastore</em><span class="code">.* to </span><em class="mild">user</em></td>
               <td class="table-body">7</td>
            </tr>
            <tr class="RuledWideOddRow">
               <td class="table-body"><span class="code">GrantAccessToDatastore(user, datastore, priv)</span> 
               </td>
               <td class="table-body"><span class="code">grant </span><em class="mild">priv</em><span class="code"> on </span><em class="mild">datastore</em><span class="code">.* to </span><em class="mild">user</em></td>
               <td class="table-body">8</td>
            </tr>
            <tr class="RuledWideEvenRow">
               <td class="table-body"><span class="code">RevokeAccessToDatastore( user, datastore, priv)</span> 
               </td>
               <td class="table-body"><span class="code">revoke </span><em class="mild">priv</em><span class="code"> on </span><em class="mild">datastore</em><span class="code">.* from </span><em class="mild">user</em></td>
               <td class="table-body">9</td>
            </tr>
            <tr class="RuledWideOddRow">
               <td class="table-body"><span class="code">RevokeRoleOrPrivilege(user, roleOrPriv)</span> 
               </td>
               <td class="table-body"><span class="code">revoke </span><em class="mild">roleOrPriv</em><span class="code"> on *.* from </span><em class="mild">user</em></td>
               <td class="table-body">10</td>
            </tr>
            <tr class="RuledWideEvenRow">
               <td class="table-body">ShowAccessToDatastore(user, datastore)</td>
               <td class="table-body"><span class="code">select privilege_type
                     from information_schema.schema_privileges where table_schema = ‘</span><em class="mild">datastore</em>’ <span class="code">and grantee = “‘</span><em class="mild">user</em><span class="code">@’%’” order by privilege_type</span></td>
               <td class="table-body">
                  &nbsp;
                  
               </td>
            </tr>
            <tr class="RuledWideOddRow">
               <td class="table-body">ShowPrivilges(user)</td>
               <td class="table-body"><span class="code">select * from mysql.user
                     where user = ‘</span><em class="mild">user</em><span class="code">’</span></td>
               <td class="table-body">11</td>
            </tr>
         </colgroup>
      </table>
      <div>
         <div class="note-note"><span class="label">Note</span>
            <!--OList--><span style="display:none"><a name="WS1a9193826455f5ff9110c71085341391d-2f29"></a></span><ol type="1" start="1">
               <li>You must
                  have the global CREATE USER privilege or the INSERT privilege for the
                  mysql database. A new MySQL user is created with no privileges. Assume
                  that you have created a new user called newuser on the MySQL instance
                  on your machine. Execute <span class="code">mysql&gt;
                     show grants for newuser;</span>. The result string is <span class="code">"GRANT USAGE ON *.* TO 'newuser'@'%' IDENTIFIED
                     BY PASSWORD '*94BDCEBE19083CE2A1F959FD02F964C7AF4CFC29'".</span> This
                  means that newuser has no privileges and can only log in locally.
                  To give the user default privileges in a datastore execute the SQL
                  command that maps to the pseudo-API call<span class="code">GrantAccessToDatastore(user,datastore)</span>.
               </li>
               <li>To
                  confirm the results of this command, execute the SQL command that
                  maps to the pseudo-API call<span class="code">ShowPrivileges(user)</span>.
               </li>
               <li>You
                  can get the same information from the FdoIListDatastores command.
               </li>
               <li>If you are connected to MySQL and you created
                  the user with AddUser, USAGE is shown as the privilege.
               </li>
               <li>All
                  users in a particular data store are listed along with the privileges
                  that they have in the data store.
               </li>
               <li>The
                  list of supported privileges for MySQL consists of <span class="code">ALTER</span>, <span class="code">ALTER
                     ROUTINE</span>, <span class="code">CREATE</span>, <span class="code">CREATE ROUTINE</span>, <span class="code">CREATE
                     TEMPORARY TABLES</span>, <span class="code">CREATE USER</span>, <span class="code">CREATE VIEW</span>, <span class="code">DELETE</span>, <span class="code">DROP</span>, <span class="code">EXECUTE</span>, <span class="code">FILE</span>, <span class="code">INDEX</span>, <span class="code">INSERT</span>, <span class="code">LOCK
                     TABLES</span>, <span class="code">PROCESS</span>, <span class="code">REFERENCES</span>, <span class="code">RELOAD</span>, <span class="code">REPLICATION CLIENT</span>, <span class="code">REPLICATION SLAVE</span>, <span class="code">SELECT</span>, <span class="code">SHOW
                     DATABASES</span>, <span class="code">SHOW VIEW</span>, <span class="code">SHUTDOWN</span>, <span class="code">SUPER</span>,
                  and <span class="code">UPDATE</span>.
               </li>
               <li>This
                  command grants a set of default privileges to the user when connected
                  to that data store. The privileges are alter, alter routine, create,
                  create routine, create temporary tables, crew view, delete, drop,
                  execute, index, insert, lock tables, references, select, show view,
                  and update. To verify the result execute the SQL command that maps
                  to the pseudo-API call <span class="code">ShowAccessToDatastore(user,
                     datastore)</span>.
               </li>
               <li>This
                  command grants the specified privilege to that user for the named
                  data store. The MySQL provider does not allow you to grant any privilege
                  other than those assigned by a call to <span class="code">GrantAccessToDatastore(user,
                     datastore)</span>. To verify the result execute the SQL command
                  that maps to the pseudo-API call <span class="code">ShowAccessToDatastore(user,
                     datastore)</span>.
               </li>
               <li>This command revokes the specified privilege from
                  that user for the named data store. If the role is set to ‘*’, the
                  provider revokes all privileges in the data store from the user.
                  To verify the result execute the SQL command that maps to the pseudo-API
                  call <span class="code">ShowAccessToDatastore(user,
                     datastore)</span>.
               </li>
               <li>This command revokes the specified role or privilege.
                  To verify the result execute the SQL command that maps to the pseudo-API
                  call <span class="code">ShowPrivileges(user)</span>.
               </li>
               <li>This
                  SQL command returns a list of boolean values indicating whether
                  the user has the privilege.
               </li>
            </ol>
         </div>
      </div><br></body>
</html>
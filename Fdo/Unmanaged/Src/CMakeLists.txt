include_directories(
        ${CMAKE_CURRENT_SOURCE_DIR}
        ${CMAKE_CURRENT_BINARY_DIR}
        ${CMAKE_CURRENT_SOURCE_DIR}/Common
        ${CMAKE_CURRENT_SOURCE_DIR}/Nls
        ${CMAKE_CURRENT_SOURCE_DIR}/Geometry
		${CMAKE_CURRENT_BINARY_DIR}/Message
		)
	
add_definitions( -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DENABLE_BINRELOC )

add_subdirectory( McToMsf )
add_subdirectory( Message )
add_subdirectory( FileToHdr )
add_subdirectory( Nls )
add_subdirectory( Common )
add_subdirectory( Geometry )
add_subdirectory( Spatial )
add_subdirectory( Fdo )


set( FDO_SRCS
	${CMAKE_CURRENT_BINARY_DIR}/dummy.cpp
)

file( WRITE ${CMAKE_CURRENT_BINARY_DIR}/dummy.cpp "//autogenerated file by cmake\n" )
add_library( FDO SHARED ${FDO_SRCS} )

target_link_libraries( FDO
	FDOSrc
	FDOCommon
	FDOSpatial
	FDOGeometry
	FDONLS
	xalan-c
	xalanMsg
	xerces-c
	pthread
	dl
	)

set_target_properties( FDO PROPERTIES VERSION ${FDO_VERSION} SOVERSION ${FDO_VERSION_MAJOR} )

add_dependencies( FDO 
	McToMsf 
	FDOMessage )

install( TARGETS FDO DESTINATION ${LIB_INSTALL_DIR} )

